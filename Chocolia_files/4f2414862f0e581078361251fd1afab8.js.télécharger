(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var n=ca(this);function p(a,b){if(b)a:{var c=n;a=a.split(".");for(var e=0;e<a.length-1;e++){var g=a[e];if(!(g in c))break a;c=c[g]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}
function t(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}var da="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},u;if("function"==typeof Object.setPrototypeOf)u=Object.setPrototypeOf;else{var v;a:{var ea={a:!0},w={};try{w.__proto__=ea;v=w.a;break a}catch(a){}v=!1}u=v?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var fa=u;
function y(a,b){a.prototype=da(b.prototype);a.prototype.constructor=a;if(fa)fa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,c);e&&Object.defineProperty(a,c,e)}else a[c]=b[c];a.S=b.prototype}
p("Promise",function(a){function b(d){this.i=0;this.j=void 0;this.h=[];this.F=!1;var f=this.u();try{d(f.resolve,f.reject)}catch(k){f.reject(k)}}function c(){this.h=null}function e(d){return d instanceof b?d:new b(function(f){f(d)})}if(a)return a;c.prototype.i=function(d){if(null==this.h){this.h=[];var f=this;this.j(function(){f.v()})}this.h.push(d)};var g=n.setTimeout;c.prototype.j=function(d){g(d,0)};c.prototype.v=function(){for(;this.h&&this.h.length;){var d=this.h;this.h=[];for(var f=0;f<d.length;++f){var k=
d[f];d[f]=null;try{k()}catch(l){this.u(l)}}}this.h=null};c.prototype.u=function(d){this.j(function(){throw d;})};b.prototype.u=function(){function d(l){return function(m){k||(k=!0,l.call(f,m))}}var f=this,k=!1;return{resolve:d(this.K),reject:d(this.v)}};b.prototype.K=function(d){if(d===this)this.v(new TypeError("A Promise cannot resolve to itself"));else if(d instanceof b)this.M(d);else{a:switch(typeof d){case "object":var f=null!=d;break a;case "function":f=!0;break a;default:f=!1}f?this.J(d):this.D(d)}};
b.prototype.J=function(d){var f=void 0;try{f=d.then}catch(k){this.v(k);return}"function"==typeof f?this.N(f,d):this.D(d)};b.prototype.v=function(d){this.G(2,d)};b.prototype.D=function(d){this.G(1,d)};b.prototype.G=function(d,f){if(0!=this.i)throw Error("Cannot settle("+d+", "+f+"): Promise already settled in state"+this.i);this.i=d;this.j=f;2===this.i&&this.L();this.R()};b.prototype.L=function(){var d=this;g(function(){if(d.I()){var f=n.console;"undefined"!==typeof f&&f.error(d.j)}},1)};b.prototype.I=
function(){if(this.F)return!1;var d=n.CustomEvent,f=n.Event,k=n.dispatchEvent;if("undefined"===typeof k)return!0;"function"===typeof d?d=new d("unhandledrejection",{cancelable:!0}):"function"===typeof f?d=new f("unhandledrejection",{cancelable:!0}):(d=n.document.createEvent("CustomEvent"),d.initCustomEvent("unhandledrejection",!1,!0,d));d.promise=this;d.reason=this.j;return k(d)};b.prototype.R=function(){if(null!=this.h){for(var d=0;d<this.h.length;++d)h.i(this.h[d]);this.h=null}};var h=new c;b.prototype.M=
function(d){var f=this.u();d.A(f.resolve,f.reject)};b.prototype.N=function(d,f){var k=this.u();try{d.call(f,k.resolve,k.reject)}catch(l){k.reject(l)}};b.prototype.then=function(d,f){function k(r,q){return"function"==typeof r?function(K){try{l(r(K))}catch(L){m(L)}}:q}var l,m,x=new b(function(r,q){l=r;m=q});this.A(k(d,l),k(f,m));return x};b.prototype.catch=function(d){return this.then(void 0,d)};b.prototype.A=function(d,f){function k(){switch(l.i){case 1:d(l.j);break;case 2:f(l.j);break;default:throw Error("Unexpected state: "+
l.i);}}var l=this;null==this.h?h.i(k):this.h.push(k);this.F=!0};b.resolve=e;b.reject=function(d){return new b(function(f,k){k(d)})};b.race=function(d){return new b(function(f,k){for(var l=t(d),m=l.next();!m.done;m=l.next())e(m.value).A(f,k)})};b.all=function(d){var f=t(d),k=f.next();return k.done?e([]):new b(function(l,m){function x(K){return function(L){r[K]=L;q--;0==q&&l(r)}}var r=[],q=0;do r.push(void 0),q++,e(k.value).A(x(r.length-1),m),k=f.next();while(!k.done)})};return b});
p("Number.isNaN",function(a){return a?a:function(b){return"number"===typeof b&&isNaN(b)}});var ha=this||self;function ia(a,b){a=a.split(".");var c=ha;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===b?c[e]&&c[e]!==Object.prototype[e]?c=c[e]:c=c[e]={}:c[e]=b};var ja=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var c=a.length,e=Array(c),g="string"===typeof a?a.split(""):a,h=0;h<c;h++)h in g&&(e[h]=b.call(void 0,g[h],h,a));return e};var ka={},z=null;
function la(a){var b;void 0===b&&(b=0);if(!z){z={};for(var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],g=0;5>g;g++){var h=c.concat(e[g].split(""));ka[g]=h;for(var d=0;d<h.length;d++){var f=h[d];void 0===z[f]&&(z[f]=d)}}}b=ka[b];c=Array(Math.floor(a.length/3));e=b[64]||"";for(g=h=0;h<a.length-2;h+=3){var k=a[h],l=a[h+1];f=a[h+2];d=b[k>>2];k=b[(k&3)<<4|l>>4];l=b[(l&15)<<2|f>>6];f=b[f&63];c[g++]=d+k+l+f}d=0;f=e;switch(a.length-h){case 2:d=
a[h+1],f=b[(d&15)<<2]||e;case 1:a=a[h],c[g]=b[a>>2]+b[(a&3)<<4|d>>4]+f+e}return c.join("")};var ma="undefined"!==typeof Uint8Array,na={};var oa;function A(a){if(na!==na)throw Error("illegal external caller");this.H=a;if(null!=a&&0===a.length)throw Error("ByteString should be constructed with non-empty values");};var B="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol():void 0;function C(a,b){if(B)return a[B]|=b;if(void 0!==a.m)return a.m|=b;Object.defineProperties(a,{m:{value:b,configurable:!0,writable:!0,enumerable:!1}});return b}function D(a){var b;B?b=a[B]:b=a.m;return null==b?0:b}function E(a,b){B?a[B]=b:void 0!==a.m?a.m=b:Object.defineProperties(a,{m:{value:b,configurable:!0,writable:!0,enumerable:!1}})}function pa(a){C(a,16);return a}function qa(a,b){E(b,(a|0)&-51)}
function F(a,b){E(b,(a|18)&-41)};var G={};function H(a){return null!==a&&"object"===typeof a&&!Array.isArray(a)&&a.constructor===Object}var I,ra=[];E(ra,23);I=Object.freeze(ra);function J(a){if(D(a.l)&2)throw Error("Cannot mutate an immutable Message");}function M(a){var b=a.length;(b=b?a[b-1]:void 0)&&H(b)?b.g=1:(b={},a.push((b.g=1,b)))};var N;function sa(a,b){N=b;a=new a(b);N=void 0;return a};function ta(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "object":if(a)if(Array.isArray(a)){if(0!==(D(a)&128))return a=Array.prototype.slice.call(a),M(a),a}else{if(ma&&null!=a&&a instanceof Uint8Array)return la(a);if(a instanceof A){var b=a.H;return null==b?"":"string"===typeof b?b:a.H=la(b)}}}return a};function ua(a,b,c,e){if(null!=a){if(Array.isArray(a))a=O(a,b,c,void 0!==e);else if(H(a)){var g={},h;for(h in a)g[h]=ua(a[h],b,c,e);a=g}else a=b(a,e);return a}}function O(a,b,c,e){var g=D(a);e=e?!!(g&16):void 0;a=Array.prototype.slice.call(a);for(var h=0;h<a.length;h++)a[h]=ua(a[h],b,c,e);c(g,a);return a}function va(a){return a.B===G?a.toJSON():ta(a)}function wa(a,b){a&128&&M(b)};function P(a){return a.h||(a.h=a.l[a.i+a.s]={})}function Q(a,b,c,e){a.j&&(a.j=void 0);b>=a.i||e?P(a)[b]=c:(a.l[b+a.s]=c,(a=a.h)&&b in a&&delete a[b])}
function R(a,b,c){var e=void 0===e?!1:e;a:if(-1===c)var g=null;else if(c>=a.i)g=a.h?a.h[c]:void 0;else{if(e&&a.h&&(g=a.h[c],null!=g))break a;g=a.l[c+a.s]}var h=!1;var d=null==g||"object"!==typeof g||(h=Array.isArray(g))||g.B!==G?h?new b(g):void 0:g;d!==g&&null!=d&&(Q(a,c,d,e),C(d.l,D(a.l)&18));b=d;if(null==b)return b;D(a.l)&2||(g=b,D(g.l)&2&&(d=xa(g,!1),d.j=g,g=d),g!==b&&(b=g,Q(a,c,b,e)));return b}
function ya(a,b,c,e){J(a);if(null!=c){var g=[];C(g,1);for(var h=!1,d=0;d<c.length;d++)g[d]=c[d].l,h=h||!!(D(g[d])&2);a.o||(a.o={});a.o[b]=c;c=g;h?B?c[B]&&(c[B]&=-9):void 0!==c.m&&(c.m&=-9):C(c,8)}else a.o&&(a.o[b]=void 0),g=I;Q(a,b,g,e)};function za(a){var b=D(a);if(b&2)return a;a=ja(a,Aa);F(b,a);Object.freeze(a);return a}function S(a,b,c){c=void 0===c?F:c;if(null!=a){if(ma&&a instanceof Uint8Array)return a.length?new A(new Uint8Array(a)):oa||(oa=new A(null));if(Array.isArray(a)){var e=D(a);if(e&2)return a;if(b&&!(e&32)&&(e&16||0===e))return E(a,e|2),a;a=O(a,S,c,!0);b=D(a);b&4&&b&2&&Object.freeze(a);return a}return a.B===G?Aa(a):a}}function Aa(a){if(D(a.l)&2)return a;a=xa(a,!0);C(a.l,2);return a}
function xa(a,b){var c=a.l,e=pa([]),g=a.constructor.h;g&&e.push(g);0!==(D(c)&128)&&M(e);b=b||D(a.l)&2?F:qa;e=sa(a.constructor,e);a.C&&(e.C=a.C.slice());g=!!(D(c)&16);for(var h=0;h<c.length;h++){var d=c[h];if(h===c.length-1&&H(d))for(var f in d){var k=+f;if(Number.isNaN(k))P(e)[k]=d[k];else{var l=d[f],m=a.o&&a.o[k];m?ya(e,k,za(m),!0):(l=S(l,g,b),J(e),Q(e,k,l,!0))}}else k=h-a.s,(l=a.o&&a.o[k])?ya(e,k,za(l),!1):(d=S(d,g,b),J(e),Q(e,k,d,!1))}return e};function T(a,b,c){null==a&&(a=N);N=void 0;var e=this.constructor.i||0,g=0<e,h=this.constructor.h,d=!1;if(null==a){a=h?[h]:[];var f=!0;E(a,48)}else{if(!Array.isArray(a))throw Error();if(h&&h!==a[0])throw Error();var k=C(a,0),l=k;if(f=0!==(16&l))(d=0!==(32&l))||(l|=32);if(g)if(128&l)e=0;else{if(0<a.length){var m=a[a.length-1];if(H(m)&&"g"in m){e=0;l|=128;delete m.g;var x=!0,r;for(r in m){x=!1;break}x&&a.pop()}}}else if(128&l)throw Error();k!==l&&E(a,l)}this.s=(h?0:-1)-e;this.o=void 0;this.l=a;a:{h=
this.l.length;e=h-1;if(h&&(h=this.l[e],H(h))){this.h=h;this.i=e-this.s;break a}void 0!==b&&-1<b?(this.i=Math.max(b,e+1-this.s),this.h=void 0):this.i=Number.MAX_VALUE}if(!g&&this.h&&"g"in this.h)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(c){b=f&&!d&&!0;g=this.i;var q;for(f=0;f<c.length;f++)d=c[f],d<g?(d+=this.s,(e=a[d])?Ba(e,b):a[d]=I):(q||(q=P(this)),(e=q[d])?Ba(e,b):q[d]=I)}}T.prototype.toJSON=function(){return O(this.l,va,wa)};
function Ca(a,b){if(null==b||""==b)return new a;b=JSON.parse(b);if(!Array.isArray(b))throw Error(void 0);return sa(a,pa(b))}function Ba(a,b){if(Array.isArray(a)){var c=D(a),e=1;!b||c&2||(e|=16);(c&e)!==e&&E(a,c|e)}}T.prototype.B=G;T.prototype.toString=function(){return this.l.toString()};function U(a){T.call(this,a,-1,Da)}y(U,T);var Da=[8];function V(a){T.call(this,a,-1,Ea)}y(V,T);var Ea=[17];function W(a){T.call(this,a,-1,Fa)}y(W,T);var Fa=[27];function Ga(a){T.call(this,a)}y(Ga,T);function Ha(a){T.call(this,a,-1,Ia)}y(Ha,T);var Ia=[1,2,3,6];function X(a,b){a=a.getElementsByTagName("META");for(var c=0;c<a.length;++c)if(a[c].getAttribute("name")===b)return a[c].getAttribute("content")||"";return""};function Ja(a,b){this.head=a;this.body=b;this.h=[];X(b,"sampling_mod");a=X(b,"namespace");if(!a){a=Math.random;a="ns-"+a().toString(36).substr(2,5);a:{var c=void 0===c?0:c;for(var e=b.getElementsByTagName("META"),g=0;g<e.length;++g)if("namespace"===e[g].getAttribute("name")&&e[g].getAttribute("index")===c.toString()){e[g].setAttribute("content",a);break a}e=b.querySelector("#mys-meta");e||(e=document.createElement("div"),e.id="mys-meta",e.style.position="absolute",e.style.display="none",b.appendChild(e));
b=document.createElement("META");b.setAttribute("name","namespace");b.setAttribute("content",a);b.setAttribute("index",c.toString());e.appendChild(b)}}if(!(0<this.h.length))for(c=X(this.body,"environment"),c=t(c.split("|")),b=c.next();!b.done;b=c.next())(b=b.value)&&this.h.push(b)}
function Y(a,b){a=a.body;var c={detail:void 0};c=void 0===c?{}:c;if("function"===typeof window.CustomEvent)var e=new CustomEvent(b,c);else e=document.createEvent("CustomEvent"),e.initCustomEvent(b,!!c.bubbles,!!c.cancelable,c.detail);a.dispatchEvent(e)}Ja.prototype.addEventListener=function(a,b){this.body.addEventListener(a,b)};function Ka(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};function La(a){this.context=a;this.j={P:!1,O:100};this.i=Ka("SPAN");this.h=Ka("DIV");this.i.style.fontSize="6px";this.i.textContent="go";this.h.style.position="absolute";this.h.style.top="100%";this.h.style.left="100%";this.h.style.width="1px";this.h.style.height="0";this.h.style.overflow="hidden";this.h.style.visibility="hidden";this.h.appendChild(this.i)}
La.prototype.wait=function(){var a=this;if(!this.j.P&&(Y(this.context,"spanStart"),this.context.body.appendChild(this.h),!Ma(this)))return new Promise(function(b){var c=setInterval(function(){Ma(a)&&(clearInterval(c),b())},a.j.O)})};function Ma(a){if(1>=a.i.offsetWidth||1>=a.i.offsetHeight)return!1;a.h.remove();Y(a.context,"spanReady");return!0};function Na(a,b){this.context=a;this.h=R(b,W,1)||new W;R(b,U,12)||new U;R(this.h,V,10)||new V};function Oa(){this.i=this.h=!1;this.j=[]}function Pa(a){a.j.length=0;a.i=!0}function Qa(a,b){function c(){a.i=!1;var e=a.j.shift();return void 0===e?(a.h=!1,Promise.resolve()):Qa(a,e())}a.h=!0;return b?b.then(c,function(){if(a.i)return c();a.h=!1;return Promise.reject()}):c()}function Ra(a,b){b=t(b);for(var c=b.next();!c.done;c=b.next())a.j.push(c.value);if(!a.h)return Qa(a)};function Sa(a,b){this.j=new Oa;this.h=0;this.context=new Ja(a,b)}function Ta(a){var b=X(a.context.body,"render_config")||"[]";b=Ca(Ga,b);return new Na(a.context,b)}
function Ua(a){Pa(a.j);return Ra(a.j,[function(){a.i||(a.i=Ta(a));var b=(new La(a.context)).wait();Y(a.context,"browserStart");Y(a.context,"browserStartEnd");a.h&=-31;a.h|=2;return b},function(){Y(a.context,"browserReady");Y(a.context,"browserReadyEnd");a.h|=4;Y(a.context,"overallReady")},function(){Y(a.context,"browserQuiet");Y(a.context,"browserQuietEnd");a.h|=8}])}
function Va(){var a=Z;a.h&=-31;a.h|=1;var b=0,c=a.context.body;c.addEventListener("browserRender",function(){++b;if(1===b)Y(a.context,"overallStart"),Wa(a).then(function(){Y(a.context,"overallQuiet")});else{var e=c.clientHeight;c.clientWidth&&e&&(a.i||(a.i=Ta(a)),Wa(a))}})}function Wa(a){Ca(Ha,X(a.context.body,"engine_msg")||"[]");return Ua(a)||Promise.resolve()};var Z;ia("mys.engine.init",function(a,b){Z=new Sa(a,b);Va()});ia("mys.engine.stage",function(){var a;return(null==(a=Z)?void 0:a.h)||0});}).call(this);
